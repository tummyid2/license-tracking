"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[594],{189:(e,t,r)=>{r.d(t,{I:()=>u});var a=r(5155);r(2115);var s=r(7812);let n=e=>{let{daysRemaining:t}=e;return t<0?(0,a.jsxs)(s.E,{className:"bg-red-500/75 hover:bg-red-700/75 dark:text-white/80",children:["หมดอายุ (",Math.abs(t)," วัน)"]}):t<=90?(0,a.jsxs)(s.E,{className:"bg-orange-500/55 hover:bg-orange-700/55 text-foreground dark:text-white/80",children:["ใกล้หมด (",t," วัน)"]}):(0,a.jsxs)(s.E,{className:"bg-green-500/65 hover:bg-green-700/65 dark:text-white/80",children:["ใช้งาน (",t," วัน)"]})};var d=r(7772),l=r(1010),i=r(1360),o=r(6633),c=r(7220),m=r(7003);let u=e=>{let{data:t,groupBy:r,onEdit:u,onDelete:f}=e,x=e=>(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(o.XI,{children:[(0,a.jsx)(o.A0,{children:(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nd,{children:"Registration No."}),(0,a.jsx)(o.nd,{children:"Company"}),(0,a.jsx)(o.nd,{children:"Tag / Scope"}),(0,a.jsx)(o.nd,{children:"Dates"}),(0,a.jsx)(o.nd,{children:"Status"}),(u||f)&&(0,a.jsx)(o.nd,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(o.BF,{children:e.map(e=>(0,a.jsxs)(o.Hj,{children:[(0,a.jsxs)(o.nA,{className:"font-medium",children:[(0,a.jsx)("div",{className:"text-blue-600 dark:text-blue-400",children:e.registrationNo}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.certificationAuthority})]}),(0,a.jsx)(o.nA,{children:e.company}),(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(s.E,{variant:"outline",className:"w-fit",children:e.tag}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.standardScope," - ",e.criteriaScope]})]})}),(0,a.jsxs)(o.nA,{children:[(0,a.jsxs)("div",{className:"text-sm",children:["Valid: ",e.validUntil]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Effective: ",e.effectiveDate]})]}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(n,{daysRemaining:e.daysRemaining})}),(u||f)&&(0,a.jsx)(o.nA,{className:"text-right",children:(0,a.jsxs)(c.rI,{children:[(0,a.jsx)(c.ty,{asChild:!0,children:(0,a.jsxs)(m.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,a.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,a.jsx)(d.A,{className:"h-4 w-4"})]})}),(0,a.jsxs)(c.SQ,{align:"end",children:[(0,a.jsx)(c.lp,{children:"Actions"}),u&&(0,a.jsxs)(c._2,{onClick:()=>u(e),children:[(0,a.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Edit"]}),f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.mB,{}),(0,a.jsxs)(c._2,{onClick:()=>f(e.id),className:"text-red-600 focus:text-red-600",children:[(0,a.jsx)(i.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},e.id))})]})});if("none"===r)return x(t);let h=t.reduce((e,t)=>{let a="company"===r?t.company:t.tag;return e[a]||(e[a]=[]),e[a].push(t),e},{});return(0,a.jsx)("div",{className:"space-y-8",children:Object.entries(h).map(e=>{let[t,n]=e;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,a.jsxs)("h3",{className:"font-bold text-lg flex items-center gap-2",children:["company"===r?"\uD83C\uDFE2":"\uD83C\uDFF7️"," ",t]}),(0,a.jsxs)(s.E,{variant:"secondary",children:[n.length," items"]})]}),x(n)]},t)})})}},3209:(e,t,r)=>{r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>d,aR:()=>l,wL:()=>m});var a=r(5155),s=r(2115),n=r(5016);let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});d.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})});i.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});m.displayName="CardFooter"},5016:(e,t,r)=>{r.d(t,{cn:()=>n});var a=r(2821),s=r(5889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},5196:(e,t,r)=>{r.d(t,{AuthProvider:()=>l,A:()=>i});var a=r(5155),s=r(2115),n=r(7241);let d=(0,s.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(!0),c=(0,n.createBrowserClient)("https://mumtxjsjmznkzvoiswiv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im11bXR4anNqbXpua3p2b2lzd2l2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NjEzMzYsImV4cCI6MjA4MDEzNzMzNn0.igVCUAUBxdtPviFrs6ZjVjW9nFSMswj9l447S8KN4Jg");(0,s.useEffect)(()=>{c.auth.getSession().then(e=>{var t;let{data:{session:r}}=e;l(null!=(t=null==r?void 0:r.user)?t:null),o(!1)});let{data:{subscription:e}}=c.auth.onAuthStateChange((e,t)=>{var r;l(null!=(r=null==t?void 0:t.user)?r:null)});return()=>e.unsubscribe()},[c.auth]);let m=async(e,t)=>{let{error:r}=await c.auth.signInWithPassword({email:e,password:t});return{error:r}},u=async()=>{await c.auth.signOut()};return(0,a.jsx)(d.Provider,{value:{user:r,loading:i,signIn:m,signOut:u},children:t})}function i(){let e=(0,s.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5643:(e,t,r)=>{r.d(t,{U:()=>o});var a=r(5155);r(2115);var s=r(9427),n=r(7494),d=r(5379),l=r(7003),i=r(7220);function o(){let{setTheme:e}=(0,d.D)();return(0,a.jsxs)(i.rI,{children:[(0,a.jsx)(i.ty,{asChild:!0,children:(0,a.jsxs)(l.$,{variant:"outline",size:"icon",children:[(0,a.jsx)(s.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,a.jsx)(n.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,a.jsxs)(i.SQ,{align:"end",children:[(0,a.jsx)(i._2,{onClick:()=>e("light"),children:"Light"}),(0,a.jsx)(i._2,{onClick:()=>e("dark"),children:"Dark"}),(0,a.jsx)(i._2,{onClick:()=>e("system"),children:"System"})]})]})}},6633:(e,t,r)=>{r.d(t,{A0:()=>l,BF:()=>i,Hj:()=>o,XI:()=>d,nA:()=>m,nd:()=>c});var a=r(5155),s=r(2115),n=r(5016);let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...s})})});d.displayName="Table";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...s})});l.displayName="TableHeader";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...s})});i.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});o.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});c.displayName="TableHead";let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});m.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption"},7003:(e,t,r)=>{r.d(t,{$:()=>o,r:()=>i});var a=r(5155),s=r(2115),n=r(2467),d=r(3101),l=r(5016);let i=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,size:d,asChild:o=!1,...c}=e,m=o?n.DX:"button";return(0,a.jsx)(m,{className:(0,l.cn)(i({variant:s,size:d,className:r})),ref:t,...c})});o.displayName="Button"},7220:(e,t,r)=>{r.d(t,{SQ:()=>u,_2:()=>f,lp:()=>x,mB:()=>h,rI:()=>c,ty:()=>m});var a=r(5155),s=r(2115),n=r(4748),d=r(7937),l=r(5917),i=r(9051),o=r(5016);let c=n.bL,m=n.l9;n.YJ,n.ZL,n.Pb,n.z6,s.forwardRef((e,t)=>{let{className:r,inset:s,children:l,...i}=e;return(0,a.jsxs)(n.ZP,{ref:t,className:(0,o.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...i,children:[l,(0,a.jsx)(d.A,{className:"ml-auto"})]})}).displayName=n.ZP.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.G5,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",r),...s})}).displayName=n.G5.displayName;let u=s.forwardRef((e,t)=>{let{className:r,sideOffset:s=4,...d}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsx)(n.UC,{ref:t,sideOffset:s,className:(0,o.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",r),...d})})});u.displayName=n.UC.displayName;let f=s.forwardRef((e,t)=>{let{className:r,inset:s,...d}=e;return(0,a.jsx)(n.q7,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",r),...d})});f.displayName=n.q7.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,checked:d,...i}=e;return(0,a.jsxs)(n.H_,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:d,...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})}),s]})}).displayName=n.H_.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,...d}=e;return(0,a.jsxs)(n.hN,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...d,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(i.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=n.hN.displayName;let x=s.forwardRef((e,t)=>{let{className:r,inset:s,...d}=e;return(0,a.jsx)(n.JU,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",r),...d})});x.displayName=n.JU.displayName;let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",r),...s})});h.displayName=n.wv.displayName},7812:(e,t,r)=>{r.d(t,{E:()=>l});var a=r(5155);r(2115);var s=r(3101),n=r(5016);let d=(0,s.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(d({variant:r}),t),...s})}}}]);