# üóÑÔ∏è Database Setup Guide

> ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Supabase ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

---

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

- [‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°](#-‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°)
- [‡∏™‡∏£‡πâ‡∏≤‡∏á Supabase Project](#-‡∏™‡∏£‡πâ‡∏≤‡∏á-supabase-project)
- [Database Schema](#-database-schema)
- [‡∏£‡∏±‡∏ô Migrations](#-‡∏£‡∏±‡∏ô-migrations)
- [‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•](#-‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
- [‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á](#-‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)
- [Row Level Security](#-row-level-security)
- [Backup & Restore](#-backup--restore)

---

## üéØ ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°

‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ **PostgreSQL** ‡∏ú‡πà‡∏≤‡∏ô **Supabase** ‡πÇ‡∏î‡∏¢‡∏°‡∏µ 5 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å:

1. **companies** - ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó/‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£
2. **tags** - ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï (SG, DOA, EU, JP)
3. **scopes** - ‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï (‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤)
4. **licenses** - ‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
5. **notification_logs** - ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

---

## üöÄ ‡∏™‡∏£‡πâ‡∏≤‡∏á Supabase Project

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [supabase.com](https://supabase.com/)
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Start your project**
3. Sign up ‡∏î‡πâ‡∏ß‡∏¢:
   - GitHub (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
   - Google
   - Email

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

1. ‡∏Ñ‡∏•‡∏¥‡∏Å **New Project**
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Organization** (‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ)
3. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   ```
   Name: license-tracking-system
   Database Password: [‡∏™‡∏£‡πâ‡∏≤‡∏á strong password]
   Region: Southeast Asia (Singapore)
   Pricing Plan: Free
   ```
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Create new project**
5. ‡∏£‡∏≠ 2-3 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏à‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡πá‡∏ô **Ready**

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å API Keys

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Settings** (‚öôÔ∏è) ‚Üí **API**
2. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ:

#### Project URL
```
https://your-project.supabase.co
```
‚Üí ‡πÉ‡∏™‡πà‡πÉ‡∏ô `NEXT_PUBLIC_SUPABASE_URL`

#### anon public (Anonymous Key)
‚Üí ‡πÉ‡∏™‡πà‡πÉ‡∏ô `NEXT_PUBLIC_SUPABASE_ANON_KEY`

#### service_role (Service Role Key) ‚ö†Ô∏è **‡πÄ‡∏Å‡πá‡∏ö‡∏•‡∏±‡∏ö!**
1. ‡∏Ñ‡∏•‡∏¥‡∏Å **Reveal** ‡πÉ‡∏ï‡πâ service_role
2. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å token
3. ‡πÉ‡∏™‡πà‡πÉ‡∏ô `SUPABASE_SERVICE_ROLE_KEY`

---

## üìä Database Schema

‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå `database-setup.sql` ‡πÅ‡∏•‡∏∞ `migrations/02_notification_logs.sql`

---

<div align="center">

**‚úÖ Database Setup Complete!**

‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà [README](./README.md) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ

</div>
