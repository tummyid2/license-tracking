# üìã License Tracking System

> ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ú‡πà‡∏≤‡∏ô LINE Messaging API

[![Next.js](https://img.shields.io/badge/Next.js-15.1-black?style=flat-square&logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.2-blue?style=flat-square&logo=react)](https://react.dev/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.8-blue?style=flat-square&logo=typescript)](https://www.typescriptlang.org/)
[![Supabase](https://img.shields.io/badge/Supabase-PostgreSQL-green?style=flat-square&logo=supabase)](https://supabase.com/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind-3.4-38bdf8?style=flat-square&logo=tailwind-css)](https://tailwindcss.com/)

---

## üìë ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

- [‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö](#-‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö)
- [‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å](#-‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å)
- [‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ](#-‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ)
- [‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö](#-‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö)
- [‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏∞‡∏ö‡∏ö](#-‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏∞‡∏ö‡∏ö)
- [‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á](#-‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á)
- [‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤](#-‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤)
- [‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô](#-‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
- [API Documentation](#-api-documentation)
- [Database Schema](#-database-schema)
- [Deployment](#-deployment)
- [Troubleshooting](#-troubleshooting)
- [License](#-license)

---

## üéØ ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö

**License Tracking System** ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï (License/Registration) ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:

- üìä **‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°** ‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
- üîî **‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥** ‡∏ú‡πà‡∏≤‡∏ô LINE ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏
- üéØ **‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£** ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà ‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï
- üìà **‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå** ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï
- ‚ö° **‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤** ‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏≤‡∏ç‡∏â‡∏•‡∏≤‡∏î

### üåü ‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô

‚úÖ ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô **4 ‡∏£‡∏∞‡∏î‡∏±‡∏ö** ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô (90, 45, 30, 15 ‡∏ß‡∏±‡∏ô)  
‚úÖ **‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ã‡πâ‡∏≥** ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 15 ‡∏ß‡∏±‡∏ô  
‚úÖ **‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤** 300 ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞  
‚úÖ **Dark Mode** ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á Light ‡πÅ‡∏•‡∏∞ Dark Theme  
‚úÖ **Responsive Design** ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå  
‚úÖ **Real-time Updates** ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö real-time

---

## ‚≠ê ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å

### 1. üì± Dashboard ‡πÅ‡∏ö‡∏ö Interactive

- ‡πÅ‡∏™‡∏î‡∏á‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÅ‡∏ö‡∏ö real-time
- ‡∏Å‡∏£‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏≤‡∏°‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó, ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà, ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- ‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏ö‡∏ö visual
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Dark/Light Mode

### 2. üîî ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞

- **4 ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô:**
  - üîµ **90 ‡∏ß‡∏±‡∏ô** - ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ (‡∏£‡∏ß‡∏°‡∏´‡∏•‡∏≤‡∏¢‡πÉ‡∏ö)
  - üü° **45 ‡∏ß‡∏±‡∏ô** - ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏ (‡∏£‡∏ß‡∏°‡∏´‡∏•‡∏≤‡∏¢‡πÉ‡∏ö)
  - üü† **30 ‡∏ß‡∏±‡∏ô** - ‡∏Ñ‡∏ß‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ (‡∏£‡∏ß‡∏°‡∏´‡∏•‡∏≤‡∏¢‡πÉ‡∏ö)
  - üî¥ **15 ‡∏ß‡∏±‡∏ô** - ‡∏î‡πà‡∏ß‡∏ô‡∏°‡∏≤‡∏Å! (‡πÅ‡∏à‡πâ‡∏á‡πÅ‡∏¢‡∏Å‡∏ó‡∏∏‡∏Å‡πÉ‡∏ö)

- **Deduplication**: ‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏ã‡πâ‡∏≥‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 15 ‡∏ß‡∏±‡∏ô
- **Quota Management**: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ 300 ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- **Smart Batching**: ‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤

### 3. ‚öôÔ∏è ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

- CRUD ‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö
- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó, ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà, ‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï
- ‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤/‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

### 4. ü§ñ Automation

- **Manual Notification** - ‡∏™‡πà‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°
- **Cron Job** - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô
- **Vercel Cron Integration** - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ server ‡πÄ‡∏≠‡∏á

### 5. üîê Security & Authentication

- Supabase Authentication
- Row Level Security (RLS)
- Protected API Routes
- Secure Cron Endpoints

---

## üõ†Ô∏è ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ

### Frontend

| Technology | Version | Purpose |
|-----------|---------|---------|
| ‚öõÔ∏è **Next.js** | 15.1 | React Framework with App Router |
| ‚öõÔ∏è **React** | 19.2 | UI Library |
| üìò **TypeScript** | 5.8 | Type Safety |
| üé® **Tailwind CSS** | 3.4 | Utility-first CSS |
| üé≠ **Radix UI** | Latest | Headless UI Components |
| üé® **shadcn/ui** | Latest | Pre-built Components |
| üåì **next-themes** | 0.4.6 | Dark Mode Support |
| üìù **React Hook Form** | 7.67 | Form Management |
| ‚úÖ **Zod** | 4.1 | Schema Validation |
| üìÖ **date-fns** | 4.1 | Date Utilities |

### Backend

| Technology | Version | Purpose |
|-----------|---------|---------|
| üóÑÔ∏è **Supabase** | 2.86 | Backend as a Service |
| üêò **PostgreSQL** | Latest | Relational Database |
| üîë **Supabase Auth** | Latest | Authentication |
| üîí **Row Level Security** | - | Data Security |
| üïí **Vercel Cron** | - | Scheduled Jobs |

### External Services

| Service | Purpose |
|---------|---------|
| üì± **LINE Messaging API** | Push Notifications |
| üöÄ **Vercel** | Hosting & Deployment |
| üìä **Supabase** | Database & Auth |

### Development Tools

| Tool | Purpose |
|------|---------|
| üîß **ESLint** | Code Linting |
| üé® **Prettier** | Code Formatting |
| üì¶ **npm** | Package Management |
| üî• **Git** | Version Control |

---

## üèóÔ∏è ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    User Interface                        ‚îÇ
‚îÇ  (Next.js App Router + React + Tailwind + shadcn/ui)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   API Routes                             ‚îÇ
‚îÇ  ‚Ä¢ /api/licenses    - License CRUD                       ‚îÇ
‚îÇ  ‚Ä¢ /api/notify/line - Manual Notifications               ‚îÇ
‚îÇ  ‚Ä¢ /api/cron/check-expiry - Auto Notifications           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚ñº             ‚ñº             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Supabase   ‚îÇ ‚îÇ LINE        ‚îÇ ‚îÇ  Vercel     ‚îÇ
‚îÇ  PostgreSQL ‚îÇ ‚îÇ Messaging   ‚îÇ ‚îÇ  Cron       ‚îÇ
‚îÇ             ‚îÇ ‚îÇ API         ‚îÇ ‚îÇ             ‚îÇ
‚îÇ ‚Ä¢ licenses  ‚îÇ ‚îÇ             ‚îÇ ‚îÇ Triggers:   ‚îÇ
‚îÇ ‚Ä¢ companies ‚îÇ ‚îÇ Broadcast   ‚îÇ ‚îÇ Daily 8 AM  ‚îÇ
‚îÇ ‚Ä¢ tags      ‚îÇ ‚îÇ Messages    ‚îÇ ‚îÇ UTC         ‚îÇ
‚îÇ ‚Ä¢ scopes    ‚îÇ ‚îÇ             ‚îÇ ‚îÇ             ‚îÇ
‚îÇ ‚Ä¢ notif_    ‚îÇ ‚îÇ             ‚îÇ ‚îÇ             ‚îÇ
‚îÇ   logs      ‚îÇ ‚îÇ             ‚îÇ ‚îÇ             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### üìÅ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå

```
license-tracking-system/
‚îú‚îÄ‚îÄ üìÅ app/                      # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ api/                  # API Routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ licenses/         # License CRUD
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ notify/line/      # Manual Notification
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ cron/check-expiry/# Auto Notification
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ admin/                # Admin Dashboard
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ login/                # Login Page
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                 # Home/Dashboard
‚îÇ   ‚îî‚îÄ‚îÄ layout.tsx               # Root Layout
‚îÇ
‚îú‚îÄ‚îÄ üìÅ components/               # React Components
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ licenses/             # License Components
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ common/               # Shared Components
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ ui/                   # shadcn/ui Components
‚îÇ
‚îú‚îÄ‚îÄ üìÅ lib/                      # Utilities
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ supabase/             # Supabase Clients
‚îÇ   ‚îî‚îÄ‚îÄ utils.ts                 # Helpers
‚îÇ
‚îú‚îÄ‚îÄ üìÅ contexts/                 # React Contexts
‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.tsx          # Authentication
‚îÇ   ‚îî‚îÄ‚îÄ ThemeContext.tsx         # Theme Management
‚îÇ
‚îú‚îÄ‚îÄ üìÅ migrations/               # Database Migrations
‚îÇ   ‚îú‚îÄ‚îÄ 01_normalization.sql     # Initial Schema
‚îÇ   ‚îî‚îÄ‚îÄ 02_notification_logs.sql # Notification Logs
‚îÇ
‚îú‚îÄ‚îÄ üìÅ utils/                    # Utility Functions
‚îú‚îÄ‚îÄ types.ts                     # TypeScript Types
‚îú‚îÄ‚îÄ vercel.json                  # Vercel Config (Cron)
‚îî‚îÄ‚îÄ package.json                 # Dependencies
```

---

## üíª ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏∞‡∏ö‡∏ö

### Software Requirements

- **Node.js** >= 18.x
- **npm** >= 9.x ‡∏´‡∏£‡∏∑‡∏≠ **yarn** >= 1.22
- **Git** (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö version control)
- **Modern Browser** (Chrome, Firefox, Safari, Edge)

### Recommended IDE

- **VS Code** ‡∏û‡∏£‡πâ‡∏≠‡∏° extensions:
  - ESLint
  - Prettier
  - Tailwind CSS IntelliSense
  - TypeScript and JavaScript Language Features

### Services Required

1. **Supabase Account** (‡∏ü‡∏£‡∏µ)
2. **LINE Developers Account** (‡∏ü‡∏£‡∏µ)
3. **Vercel Account** (‡∏ü‡∏£‡∏µ - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö deployment)

---

## üöÄ ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: Clone Repository

```bash
git clone https://github.com/yourusername/license-tracking-system.git
cd license-tracking-system
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies

```bash
npm install
```

‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ yarn:

```bash
yarn install
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env.local` (‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏à‡∏≤‡∏Å `.env.example`):

```bash
cp .env.example .env.local
```

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `.env.local`:

```env
# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# LINE Messaging API
LINE_CHANNEL_ACCESS_TOKEN=your-line-channel-access-token

# Cron Job Security
CRON_SECRET=your-random-secret-key-here
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Supabase

#### 4.1 ‡∏™‡∏£‡πâ‡∏≤‡∏á Supabase Project

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [Supabase](https://supabase.com/)
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **New Project**
3. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   - **Name**: license-tracking-system
   - **Database Password**: ‡∏™‡∏£‡πâ‡∏≤‡∏á strong password
   - **Region**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏Å‡∏•‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (e.g., Southeast Asia)
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Create new project**

#### 4.2 ‡∏£‡∏±‡∏ô Database Migrations

1. ‡πÄ‡∏õ‡∏¥‡∏î **SQL Editor** ‡πÉ‡∏ô Supabase Dashboard
2. ‡∏£‡∏±‡∏ô migration ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö:

**Migration 1:** `database-setup.sql`
```sql
-- ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå database-setup.sql ‡πÅ‡∏•‡πâ‡∏ß Run
```

**Migration 2:** `migrations/02_notification_logs.sql`
```sql
-- ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå migrations/02_notification_logs.sql ‡πÅ‡∏•‡πâ‡∏ß Run
```

#### 4.3 ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å API Keys

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Settings** ‚Üí **API**
2. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å:
   - **Project URL** ‚Üí `NEXT_PUBLIC_SUPABASE_URL`
   - **anon public** key ‚Üí `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - **service_role** key ‚Üí `SUPABASE_SERVICE_ROLE_KEY` ‚ö†Ô∏è ‡πÄ‡∏Å‡πá‡∏ö‡∏•‡∏±‡∏ö!

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ LINE Official Account

#### 5.1 ‡∏™‡∏£‡πâ‡∏≤‡∏á LINE Messaging API Channel

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [LINE Developers Console](https://developers.line.biz/console/)
2. Login ‡∏î‡πâ‡∏ß‡∏¢‡∏ö‡∏±‡∏ç‡∏ä‡∏µ LINE
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á **Provider** (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ)
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Create a Messaging API channel**
5. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   - **Channel name**: License Tracker Bot
   - **Channel description**: ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏
   - **Category**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°
6. Agree to terms ‚Üí **Create**

#### 5.2 ‡∏£‡∏±‡∏ö Channel Access Token

1. ‡πÄ‡∏Ç‡πâ‡∏≤ Channel ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö **Messaging API**
3. ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô **Channel access token**:
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Issue** (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ)
   - **Copy** token ‚Üí `LINE_CHANNEL_ACCESS_TOKEN`

#### 5.3 ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô Official Account

1. ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ **Messaging API** ‡∏à‡∏∞‡∏°‡∏µ **QR Code**
2. **‡∏™‡πÅ‡∏Å‡∏ô QR Code** ‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏≠‡∏õ LINE
3. **Add ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô**
4. ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ï‡πâ‡∏≠‡∏á Add ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏±‡∏ö Bot ‡∏ô‡∏µ‡πâ

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 6: ‡∏™‡∏£‡πâ‡∏≤‡∏á Cron Secret

```bash
# Windows PowerShell
-join ((48..57) + (65..90) + (97..122) | Get-Random -Count 32 | % {[char]$_})

# Linux/Mac
openssl rand -hex 32
```

‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏™‡πà‡πÉ‡∏ô `CRON_SECRET`

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 7: ‡∏£‡∏±‡∏ô Development Server

```bash
npm run dev
```

‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà: [http://localhost:3000](http://localhost:3000) üéâ

---

## ‚öôÔ∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

### ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Authentication (Optional)

‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö Login:

1. ‡πÄ‡∏õ‡∏¥‡∏î Supabase Dashboard
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Authentication** ‚Üí **Providers**
3. ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô **Email** provider
4. (Optional) ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ **Google**, **GitHub** OAuth

### ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Row Level Security (RLS)

‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö RLS policies ‡πÉ‡∏ô Supabase:

```sql
-- ‡∏î‡∏π policies ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà
SELECT * FROM pg_policies WHERE schemaname = 'public';

-- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á policy ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö licenses table
CREATE POLICY "Allow all for authenticated users"
ON licenses FOR ALL
TO authenticated
USING (true)
WITH CHECK (true);
```

---

## üìñ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### üè† ‡∏´‡∏ô‡πâ‡∏≤ Dashboard

#### ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

Dashboard ‡πÅ‡∏™‡∏î‡∏á 4 ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏´‡∏•‡∏±‡∏Å:

1. **üìä ‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î** - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏ß‡∏°
2. **üî¥ ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß** - ‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡πà‡∏ß‡∏ô
3. **üü† ‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏** - ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ‚â§90 ‡∏ß‡∏±‡∏ô
4. **üü¢ ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥** - ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£

#### ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

- ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- ‡πÉ‡∏ä‡πâ‡∏õ‡∏∏‡πà‡∏° **Group By** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏≤‡∏°:
  - **None** - ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
  - **Company** - ‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏≤‡∏°‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó
  - **Tag** - ‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà

### üîî ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: Manual (‡∏™‡πà‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ)

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Dashboard
2. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **üîî Notify LINE** (‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)
3. ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞:
   - ‡∏Å‡∏£‡∏≠‡∏á‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (1-90 ‡∏ß‡∏±‡∏ô)
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏Ñ‡∏¢‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
   - ‡∏™‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÑ‡∏õ‡∏¢‡∏±‡∏á LINE
   - ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÅ‡∏•‡∏∞‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: Automatic (Cron Job)

‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô:

- **Development**: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ `curl`:
  ```bash
  curl -X GET http://localhost:3000/api/cron/check-expiry \
    -H "Authorization: Bearer your-cron-secret"
  ```

- **Production**: Vercel Cron ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏° `vercel.json`
  ```json
  "schedule": "0 8 * * *"  // ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô 08:00 UTC (15:00 ICT)
  ```

### üìù ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï

#### ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡∏°‡πà

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Admin Panel** (‡∏õ‡∏∏‡πà‡∏° Settings/Admin)
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **‚ûï Add License**
3. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   - ‡πÄ‡∏•‡∏Ç‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô (Registration No)
   - ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó
   - ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (Tag)
   - ‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï (Scope)
   - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ú‡∏•‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Save**

#### ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï

1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á
2. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **Update**

#### ‡∏•‡∏ö‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï

1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° ‚ãÆ (‡πÄ‡∏°‡∏ô‡∏π) ‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Delete**
3. ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö

### üìä ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

‡πÄ‡∏Ç‡πâ‡∏≤ Supabase Dashboard ‚Üí Table Editor ‚Üí `notification_logs`:

```sql
-- ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î 20 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
SELECT 
  nl.sent_at,
  nl.notification_type,
  nl.status,
  l.registration_no,
  c.name as company
FROM notification_logs nl
JOIN licenses l ON nl.license_id = l.id
LEFT JOIN companies c ON l.company_id = c.id
ORDER BY nl.sent_at DESC
LIMIT 20;
```

### üé® Theme (Dark/Light Mode)

- ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° üåô/‚òÄÔ∏è ‡∏ó‡∏µ‡πà Navbar
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏à‡∏≥ preference ‡πÑ‡∏ß‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

---

## üì° API Documentation

### GET `/api/licenses`

‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

**Response:**
```json
[
  {
    "id": "uuid",
    "registrationNo": "SG-20-013",
    "company": "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ABC ‡∏à‡∏≥‡∏Å‡∏±‡∏î",
    "tag": "SG",
    "validUntil": "2025-12-31",
    "daysRemaining": 45,
    "computedStatus": "Expiring Soon"
  }
]
```

### POST `/api/notify/line`

‡∏™‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á

**Request:**
```json
{
  "licenses": [...],
  "force": false
}
```

**Response:**
```json
{
  "success": true,
  "licensesNotified": 5,
  "messagesSent": 2,
  "quotaRemaining": 295,
  "quotaWarning": false
}
```

### GET `/api/cron/check-expiry`

Cron job endpoint (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Authorization header)

**Headers:**
```
Authorization: Bearer {CRON_SECRET}
```

**Response:**
```json
{
  "success": true,
  "processed": 10,
  "messagesSent": 3,
  "quotaRemaining": 290
}
```

---

## üóÑÔ∏è Database Schema

### Tables

#### `licenses`
| Column | Type | Description |
|--------|------|-------------|
| id | UUID | Primary Key |
| registration_no | TEXT | ‡πÄ‡∏•‡∏Ç‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô (Unique) |
| company_id | UUID | FK ‚Üí companies |
| tag_id | UUID | FK ‚Üí tags |
| scope_id | UUID | FK ‚Üí scopes |
| valid_until | DATE | ‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ |
| effective_date | DATE | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ú‡∏• |
| status | TEXT | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ |
| remark | TEXT | ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ |

#### `companies`
| Column | Type | Description |
|--------|------|-------------|
| id | UUID | Primary Key |
| name | TEXT | ‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó (Unique) |
| address | TEXT | ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà |
| contact_person | TEXT | ‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ |
| email | TEXT | ‡∏≠‡∏µ‡πÄ‡∏°‡∏• |
| phone | TEXT | ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ |

#### `notification_logs`
| Column | Type | Description |
|--------|------|-------------|
| id | UUID | Primary Key |
| license_id | UUID | FK ‚Üí licenses |
| notification_type | TEXT | 90_days, 45_days, 30_days, 15_days, manual |
| sent_at | TIMESTAMP | ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á |
| status | TEXT | success, failed, pending |
| message_preview | TEXT | ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° |
| error_message | TEXT | ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° error (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) |

---

## üöÄ Deployment

### Deploy to Vercel

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: GitHub Integration (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

1. **Push code ‡∏Ç‡∏∂‡πâ‡∏ô GitHub:**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git branch -M main
   git remote add origin https://github.com/yourusername/license-tracking-system.git
   git push -u origin main
   ```

2. **Import ‡πÉ‡∏ô Vercel:**
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [vercel.com/new](https://vercel.com/new)
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Repository
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Import**

3. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables:**
   - ‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÉ‡∏ô `.env.local`
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Deploy**

4. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Cron Job:**
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Dashboard ‚Üí Cron Jobs
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `/api/cron/check-expiry` ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: Vercel CLI

```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Vercel CLI
npm i -g vercel

# Login
vercel login

# Deploy
vercel --prod

# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ env vars
vercel env add LINE_CHANNEL_ACCESS_TOKEN
vercel env add CRON_SECRET
vercel env add SUPABASE_SERVICE_ROLE_KEY
```

### Production Checklist

- [ ] Environment variables ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß
- [ ] Database migrations ‡∏£‡∏±‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢
- [ ] LINE Official Account ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Cron Job ‡∏î‡πâ‡∏ß‡∏¢ curl
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Vercel Cron ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- [ ] ‡πÅ‡∏ä‡∏£‡πå QR Code ‡πÉ‡∏´‡πâ‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô Add ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô

---

## üîß Troubleshooting

### ‚ùå ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏ô LINE

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ:**

1. ‚ùå **‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Add ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏±‡∏ö Bot**
   - ‚úÖ ‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡πÅ‡∏•‡∏∞ Add ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô

2. ‚ùå **LINE_CHANNEL_ACCESS_TOKEN ‡∏ú‡∏¥‡∏î**
   - ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö token ‡πÉ‡∏ô `.env.local`
   - ‚úÖ Re-issue token ‡πÉ‡∏´‡∏°‡πà‡∏ñ‡πâ‡∏≤‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏

3. ‚ùå **‡∏™‡πà‡∏á‡∏ã‡πâ‡∏≥‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 15 ‡∏ß‡∏±‡∏ô**
   - ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `notification_logs` table
   - ‚úÖ ‡∏£‡∏≠ 15 ‡∏ß‡∏±‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏ö log ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‚ùå Cron Job ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

1. ‚ùå **CRON_SECRET ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô**
   - ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Vercel env vars

2. ‚ùå **vercel.json ‡πÑ‡∏°‡πà deploy**
   - ‚úÖ Commit ‡πÅ‡∏•‡∏∞ push ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ
   - ‚úÖ Redeploy

3. ‚ùå **Function timeout**
   - ‚úÖ Upgrade Vercel plan (Hobby = 10s, Pro = 60s)

### ‚ùå Database Connection Error

1. ‚ùå **SUPABASE_SERVICE_ROLE_KEY ‡πÑ‡∏°‡πà‡∏°‡∏µ**
   - ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô `.env.local`
   - ‚úÖ Restart dev server

2. ‚ùå **RLS Policy block**
   - ‚úÖ ‡πÉ‡∏ä‡πâ `getServiceSupabase()` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö cron
   - ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö policies

### ‚ùå Build Error

```bash
# Clear cache ‡πÅ‡∏•‡∏∞ rebuild
rm -rf .next
npm install
npm run build
```

### üìã Logs

**Development:**
```bash
# ‡∏î‡∏π console logs
npm run dev
```

**Production (Vercel):**
1. Dashboard ‚Üí Deployments
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å deployment
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **Functions**
4. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å function ‚Üí **Logs**

---

## üìö ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

- üìñ [LINE Notification Setup Guide](./LINE_NOTIFICATION_SETUP.md)
- üìñ [Database Setup Guide](./DATABASE_SETUP_GUIDE.md)
- üìñ [Implementation Summary](./IMPLEMENTATION_SUMMARY.md)

---

## ü§ù Contributing

Contributions are welcome! Please:

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

---

## üìÑ License

This project is licensed under the MIT License.

---

## üë®‚Äçüíª Author

Created with ‚ù§Ô∏è by Your Team

- üåê Website: [your-website.com](https://your-website.com)
- üìß Email: your-email@example.com
- üíº LinkedIn: [Your Name](https://linkedin.com/in/yourname)

---

## üôè Acknowledgments

- [Next.js](https://nextjs.org/)
- [Supabase](https://supabase.com/)
- [LINE Developers](https://developers.line.biz/)
- [Vercel](https://vercel.com/)
- [shadcn/ui](https://ui.shadcn.com/)
- [Tailwind CSS](https://tailwindcss.com/)

---

<div align="center">

**‚≠ê ‡∏ñ‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏Å‡∏î Star! ‚≠ê**

Made with üíö in Thailand üáπüá≠

</div>
